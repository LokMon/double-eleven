(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["双十一奖励领取"],{"0c25":function(t,e,i){},1276:function(t,e,i){"use strict";var n=i("d784"),a=i("44e7"),s=i("825a"),r=i("1d80"),o=i("4840"),c=i("8aa5"),l=i("50c4"),u=i("14c3"),d=i("9263"),p=i("d039"),v=[].push,h=Math.min,f=4294967295,g=!p((function(){return!RegExp(f,"y")}));n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(r(this)),s=void 0===i?f:i>>>0;if(0===s)return[];if(void 0===t)return[n];if(!a(t))return e.call(n,t,s);var o,c,l,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,g=new RegExp(t.source,p+"g");while(o=d.call(g,n)){if(c=g.lastIndex,c>h&&(u.push(n.slice(h,o.index)),o.length>1&&o.index<n.length&&v.apply(u,o.slice(1)),l=o[0].length,h=c,u.length>=s))break;g.lastIndex===o.index&&g.lastIndex++}return h===n.length?!l&&g.test("")||u.push(""):u.push(n.slice(h)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var a=r(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,a,i):n.call(String(a),e,i)},function(t,a){var r=i(n,t,this,a,n!==e);if(r.done)return r.value;var d=s(t),p=String(this),v=o(d,RegExp),m=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),y=new v(g?d:"^(?:"+d.source+")",x),b=void 0===a?f:a>>>0;if(0===b)return[];if(0===p.length)return null===u(y,p)?[p]:[];var _=0,C=0,E=[];while(C<p.length){y.lastIndex=g?C:0;var w,$=u(y,g?p:p.slice(C));if(null===$||(w=h(l(y.lastIndex+(g?0:C)),p.length))===_)C=c(p,C,m);else{if(E.push(p.slice(_,C)),E.length===b)return E;for(var I=1;I<=$.length-1;I++)if(E.push($[I]),E.length===b)return E;C=_=w}}return E.push(p.slice(_)),E}]}),!g)},"14c3":function(t,e,i){var n=i("c6b6"),a=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var s=i.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"25cd":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"welfare-top"},[i("div",{staticClass:"right-dw",on:{click:function(e){t.prize=!0}}},[t._v("兑奖记录")]),i("div",{staticClass:"welfare-dz"},[i("p",{directives:[{name:"show",rawName:"v-show",value:!t.address,expression:"!address"}],on:{click:function(e){t.addressWrap=!0}}},[t._v("收货地址：未填"),t._m(0)]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.address,expression:"address"}],on:{click:function(e){t.addressWrap=!0}}},[t._v("收货地址："),i("i",[t._v(t._s(t.address+"-"+t.detail))]),t._m(1)])])]),i("div",{staticClass:"welfare-middle"},[i("router-link",{staticClass:"return-pay",attrs:{to:"/"}}),i("p",{staticClass:"chance-wrap"},[t._v("还有"+t._s(t.userInfo.haveConvertNum||0)+"次挑选机会")]),i("div",{staticClass:"product-list"},t._l(t.pList,(function(e){return i("div",{key:e.id,staticClass:"product-item"},[i("img",{attrs:{src:e.image,alt:""}}),i("span",[t._v(t._s(e.productName))]),t.expire?i("div",{staticStyle:{filter:"grayscale(100%)","-webkit-filter":"grayscale(100%)"}}):i("div",{on:{click:function(i){return t.showDilog(e.productCode)}}}),e.convertCount?i("i",[t._v("已兑换："+t._s(e.convertCount))]):t._e()])})),0)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.addressWrap,expression:"addressWrap"}],staticClass:"address-wrap",on:{click:function(e){t.addressWrap=!1}}},[i("div",{staticClass:"address-block",on:{click:function(t){t.stopPropagation()}}},[i("span",{staticClass:"address-alert"},[t._v("收货地址关系到实物寄送，请确保正确无误")]),i("div",[i("span",[t._v("联系人")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"姓名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),i("div",[i("span",[t._v("电话")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{type:"number",placeholder:"手机号码"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}})]),i("div",[i("span",[t._v("地区")]),i("i",{on:{click:function(e){t.cityOptions=!0}}},[t.address?i("em",{staticStyle:{color:"rgba(6,10,20,1)"}},[t._v(t._s(t.address))]):i("em",[t._v("选择地区")])])]),i("div",[i("span",[t._v("地址")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.detail,expression:"detail"}],attrs:{type:"text",placeholder:"详细地址"},domProps:{value:t.detail},on:{input:function(e){e.target.composing||(t.detail=e.target.value)}}})]),i("button",{on:{click:t.saveTap}},[t._v("确认")])])]),i("van-popup",{attrs:{position:"bottom","safe-area-inset-bottom":""},model:{value:t.cityOptions,callback:function(e){t.cityOptions=e},expression:"cityOptions"}},[i("van-picker",{ref:"picker",attrs:{columns:t.columns,"value-key":"value","show-toolbar":!0},on:{change:t.changeCityOptions,confirm:t.confirmisCityOptions,cancel:function(e){t.cityOptions=!1}}})],1),i("van-popup",{style:{height:"70%"},attrs:{round:"",position:"bottom"},model:{value:t.prize,callback:function(e){t.prize=e},expression:"prize"}},[i("div",{staticClass:"prize-pop"},[i("span",{staticClass:"title"},[t._v("兑奖记录")]),t.prizeList.length>0?i("div",t._l(t.prizeList,(function(e,n){return i("div",{key:n,staticClass:"prize-item"},[i("img",{attrs:{src:e.image,alt:""}}),i("div",[i("p",[t._v(t._s(e.productName))]),i("p",[t._v(" "+t._s(t.timeFormat(e.createTime))+" 兑换")])]),t.expire?i("span",{staticStyle:{filter:"grayscale(100%)","-webkit-filter":"grayscale(100%)"}},[t._v("重新挑选")]):i("span",{on:{click:function(i){return t.showDilog2(e.id)}}},[t._v("重新挑选")])])})),0):i("div",{staticClass:"prize-none-img"},[i("img",{attrs:{src:"https://jane7-prod.oss-cn-hangzhou.aliyuncs.com/v2/sprint59/double-eleven-prize-img1.png",alt:""}}),i("p",[t._v("还没有兑换记录")])])])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v("去填写"),i("img",{attrs:{src:"https://jane7-prod.oss-cn-hangzhou.aliyuncs.com/v2/sprint59/double-11-img25.png",alt:""}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v("去修改"),i("img",{attrs:{src:"https://jane7-prod.oss-cn-hangzhou.aliyuncs.com/v2/sprint59/double-11-img25.png",alt:""}})])}],s=(i("b0c0"),i("ac1f"),i("5319"),i("1276"),{data:function(){return{expire:!1,columns:[],prizeList:[],prize:!1,citys:[],addressWrap:!1,chance:0,pList:[],cityOptions:!1,address:"",detail:"",name:"",mobile:"",userInfo:{}}},watch:{prize:function(t){t&&this.getConvert()}},mounted:function(){window.scroll(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0,this.getProduct(),this.getCityList(),this.getUserInfo(),this.judgeDate()},methods:{timeFormat:function(t){return t.replace(/2020-/,"")},judgeDate:function(){var t=new Date("2020-11-12"),e=new Date;e.getTime()>t.getTime()?this.expire=!0:this.expire=!1},showDilog2:function(t){var e=this;this.$dialog.confirm({title:"提示",message:"确认后将返还挑选机会，可重新选择赠品\n注意：11.12 24点之后不可再更改哦"}).then((function(){e.resetConvert(t)})).catch((function(){}))},showDilog:function(t){var e=this;return this.address?this.userInfo.haveConvertNum?void this.$dialog.confirm({title:"提示",message:"是否确认兑换该物品？将消耗一次挑选机会"}).then((function(){e.saveConvert(t)})).catch((function(){})):this.$toast("你暂无挑选机会哦"):this.$toast("请先选择收货地址哦")},resetConvert:function(t){var e=this;this._axios.get("/eleven/activity/convert/update/"+t).then((function(t){200==t.data.respCode&&(e.$toast("挑选机会已返还，请重新挑选"),e.prize=!1,e.getUserInfo(),e.getProduct())}))},getConvert:function(){var t=this;this._axios.post("/eleven/activity/convert/list",{}).then((function(e){200==e.data.respCode&&(t.prizeList=e.data.data)}))},saveConvert:function(t){var e=this;this.address||this.$toast("请先选择收货地址哦"),this._axios.post("/eleven/activity/convert/save",{productCode:t,status:1}).then((function(t){200==t.data.respCode&&(e.addressWrap=!1,e.getUserInfo(),e.getProduct(),e.$toast("兑换成功"))}))},getUserInfo:function(){var t=this;this._axios.post("/eleven/activity/user/info",{}).then((function(e){200==e.data.respCode&&(e.data.data.province?t.address=e.data.data.province+"-"+e.data.data.city+"-"+e.data.data.district:t.address=null,t.detail=e.data.data.detail,t.name=e.data.data.name,t.mobile=e.data.data.mobile,t.userInfo=e.data.data)}))},getProduct:function(){var t=this;this._axios.post("/eleven/activity/product/list",{}).then((function(e){t.pList=e.data.data})).catch((function(e){t.$toast("接口请求失败，稍后再试～"),console.log(e)}))},saveTap:function(){var t=this,e=/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/;this.$isEmpty(this.name)?this.$toast("请填写姓名"):this.$isEmpty(this.mobile)?this.$toast("请填写手机号码"):this.$isEmpty(this.address)?this.$toast("请选择所在地区"):this.$isEmpty(this.detail)?this.$toast("请填写详细地址"):e.test(this.mobile)?this._axios.post("/eleven/activity/save/address",{name:this.name,mobile:this.mobile,detail:this.detail,province:this.address.split("-")[0],city:this.address.split("-")[1],district:this.address.split("-")[2]}).then((function(e){200==e.data.respCode&&(t.addressWrap=!1,t.$toast("保存地址成功"))})):this.$toast("手机号格式不正确")},getCityList:function(){var t=this;this._axios.get("/address/cascader/list").then((function(e){200==e.data.respCode&&(t.citys=e.data.data,t.columns=[{values:e.data.data,className:"column1"},{values:e.data.data[0].children,className:"column2"},{values:e.data.data[0].children[0].children,className:"column3"}])}))},confirmisCityOptions:function(t){this.address=t[0].value+"-"+t[1].value+"-"+t[2].value,this.cityOptions=!1},changeCityOptions:function(t,e,i){if(0===i)for(var n=e[0].value,a=0;a<this.citys.length;a++)n==this.citys[a].value&&(t.setColumnValues(1,this.citys[a].children),t.setColumnValues(2,this.citys[a].children[0].children));if(1===i)for(var s=e[1].value,r=0;r<this.citys.length;r++)for(var o=0;o<this.citys[r].children.length;o++)s==this.citys[r].children[o].value&&t.setColumnValues(2,this.citys[r].children[o].children)}}}),r=s,o=(i("bd08"),i("2877")),c=Object(o["a"])(r,n,a,!1,null,"44caba74",null);e["default"]=c.exports},"44e7":function(t,e,i){var n=i("861d"),a=i("c6b6"),s=i("b622"),r=s("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==a(t))}},5319:function(t,e,i){"use strict";var n=i("d784"),a=i("825a"),s=i("7b0b"),r=i("50c4"),o=i("a691"),c=i("1d80"),l=i("8aa5"),u=i("14c3"),d=Math.max,p=Math.min,v=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,i,n){var m=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=n.REPLACE_KEEPS_$0,y=m?"$":"$0";return[function(i,n){var a=c(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,a,n):e.call(String(a),i,n)},function(t,n){if(!m&&x||"string"===typeof n&&-1===n.indexOf(y)){var s=i(e,t,this,n);if(s.done)return s.value}var c=a(t),v=String(this),h="function"===typeof n;h||(n=String(n));var f=c.global;if(f){var _=c.unicode;c.lastIndex=0}var C=[];while(1){var E=u(c,v);if(null===E)break;if(C.push(E),!f)break;var w=String(E[0]);""===w&&(c.lastIndex=l(v,r(c.lastIndex),_))}for(var $="",I=0,k=0;k<C.length;k++){E=C[k];for(var R=String(E[0]),S=d(p(o(E.index),v.length),0),P=[],N=1;N<E.length;N++)P.push(g(E[N]));var T=E.groups;if(h){var z=[R].concat(P,S,v);void 0!==T&&z.push(T);var O=String(n.apply(void 0,z))}else O=b(R,v,S,P,T,n);S>=I&&($+=v.slice(I,S)+O,I=S+R.length)}return $+v.slice(I)}];function b(t,i,n,a,r,o){var c=n+t.length,l=a.length,u=f;return void 0!==r&&(r=s(r),u=h),e.call(o,u,(function(e,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,n);case"'":return i.slice(c);case"<":o=r[s.slice(1,-1)];break;default:var u=+s;if(0===u)return e;if(u>l){var d=v(u/10);return 0===d?e:d<=l?void 0===a[d-1]?s.charAt(1):a[d-1]+s.charAt(1):e}o=a[u-1]}return void 0===o?"":o}))}}))},6547:function(t,e,i){var n=i("a691"),a=i("1d80"),s=function(t){return function(e,i){var s,r,o=String(a(e)),c=n(i),l=o.length;return c<0||c>=l?t?"":void 0:(s=o.charCodeAt(c),s<55296||s>56319||c+1===l||(r=o.charCodeAt(c+1))<56320||r>57343?t?o.charAt(c):s:t?o.slice(c,c+2):r-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"8aa5":function(t,e,i){"use strict";var n=i("6547").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},9263:function(t,e,i){"use strict";var n=i("ad6d"),a=i("9f7f"),s=RegExp.prototype.exec,r=String.prototype.replace,o=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||l;d&&(o=function(t){var e,i,a,o,d=this,p=l&&d.sticky,v=n.call(d),h=d.source,f=0,g=t;return p&&(v=v.replace("y",""),-1===v.indexOf("g")&&(v+="g"),g=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,f++),i=new RegExp("^(?:"+h+")",v)),u&&(i=new RegExp("^"+h+"$(?!\\s)",v)),c&&(e=d.lastIndex),a=s.call(p?i:d,g),p?a?(a.input=a.input.slice(f),a[0]=a[0].slice(f),a.index=d.lastIndex,d.lastIndex+=a[0].length):d.lastIndex=0:c&&a&&(d.lastIndex=d.global?a.index+a[0].length:e),u&&a&&a.length>1&&r.call(a[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(a[o]=void 0)})),a}),t.exports=o},"9f7f":function(t,e,i){"use strict";var n=i("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,i){"use strict";var n=i("23e7"),a=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,i){var n=i("83ab"),a=i("9bf2").f,s=Function.prototype,r=s.toString,o=/^\s*function ([^ (]*)/,c="name";n&&!(c in s)&&a(s,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},bd08:function(t,e,i){"use strict";i("0c25")},d784:function(t,e,i){"use strict";i("ac1f");var n=i("6eeb"),a=i("d039"),s=i("b622"),r=i("9263"),o=i("9112"),c=s("species"),l=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),v=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,d){var h=s(t),f=!a((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),g=f&&!a((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[c]=function(){return i},i.flags="",i[h]=/./[h]),i.exec=function(){return e=!0,null},i[h](""),!e}));if(!f||!g||"replace"===t&&(!l||!u||p)||"split"===t&&!v){var m=/./[h],x=i(h,""[t],(function(t,e,i,n,a){return e.exec===r?f&&!a?{done:!0,value:m.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),y=x[0],b=x[1];n(String.prototype,t,y),n(RegExp.prototype,h,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}d&&o(RegExp.prototype[h],"sham",!0)}}}]);
//# sourceMappingURL=双十一奖励领取.a9c77eb8.js.map